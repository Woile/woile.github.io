<!DOCTYPE html>
<html prefix="" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="how to decrypt your ubuntu linux machine from command line">
<meta name="viewport" content="width=device-width">
<title>Decrypt filesystem | Willy's blog</title>
<link href="../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../../assets/css/screen.css">
<link rel="stylesheet" type="text/css" href="../../assets/css/nav.css">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400%7CInconsolata">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://woile.github.io/posts/decrypt-filesystem/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><script src="https://use.fontawesome.com/ac3419ca62.js"></script><meta name="author" content="Woile">
<link rel="prev" href="../how-to-test-selenium-scrapper/" title="How to test Selenium scrapper with Python" type="text/html">
<link rel="next" href="../creating-a-small-git-like-cli-with-decli/" title="Tutorial: writing my dreamt cli using decli" type="text/html">
<meta property="og:site_name" content="Willy's blog">
<meta property="og:title" content="Decrypt filesystem">
<meta property="og:url" content="https://woile.github.io/posts/decrypt-filesystem/">
<meta property="og:description" content="how to decrypt your ubuntu linux machine from command line">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-07-13T18:14:43-03:00">
<meta property="article:tag" content="encrypt">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="ubuntu">
</head>
<body class="nav-closed">

<div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
<li class="nav-opened" role="presentation">
                <a href="../../">Home</a>
            </li>
            <li class="nav-opened" role="presentation">
                <a href="../../stories/visited-places/">Around the world</a>
            </li>
            <li class="nav-opened" role="presentation">
                <a href="../../categories/">Tags</a>
            </li>
            <li class="nav-opened" role="presentation">
                <a href="../../rss.xml">RSS feed</a>
            </li>
            <li class="nav-opened" role="presentation">
                <a href="../../archive.html">Archive</a>
            </li>
            

            <li class="nav-opened" role="presentation">
                <a href="javascript:void(0)" class="nested-url" data-children="nested-gallery">
                Gallery
                </a>
            </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/roca_de_la_sierra/" class="child">
                    Roca de la Sierra
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/portugal/castelo_de_campo_maior/" class="child">
                    Castelo de Campo Maior
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/portugal/porto/" class="child">
                    Porto
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/portugal/cascais/" class="child">
                    Cascais
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/portugal/quinta_de_regaleira/" class="child">
                    Quinta de Regaleira
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/seville/" class="child">
                    Sevilla
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/malaga/" class="child">
                    Malaga
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/nerja/" class="child">
                    Nerja
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/alhambra_granada/" class="child">
                    Alhambra y Generalife
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/valencia/" class="child">
                    Valencia
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/barcelona/sagrada_familia/" class="child">
                    Sagrada Familia
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/barcelona/camp_nou/" class="child">
                    Camp Nou
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/barcelona/cosmocaixa/" class="child">
                    Cosmocaixa
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/barcelona/park_guell/" class="child">
                    Park Güell
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/barcelona/ciudad_gotica_rambla/" class="child">
                    Barrio Gótico
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/barcelona/playa_badalona/" class="child">
                    Playa Badalona
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/santander/" class="child">
                    Santander
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/santillana/" class="child">
                    Santillana
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/madrid/" class="child">
                    Madrid
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/france/paris/" class="child">
                    Paris
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/belgium/brussels/" class="child">
                    Bruselas
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/belgium/brugge/" class="child">
                    Brujas
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/netherlands/rotterdam/" class="child">
                    Rotterdam
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/netherlands/amsterdam/" class="child">
                    Amsterdam
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/germany/hamburg/" class="child">
                    Hamburgo
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/germany/berlin/" class="child">
                    Berlin
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/poland/cracow/" class="child">
                    Cracovia
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/czech/prague/" class="child">
                    Praga
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/hungary/budapest/" class="child">
                    Budapest
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/greece/glyfada/" class="child">
                    Glyfada
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/italy/marina_del_cantone/" class="child">
                    Marina Del Cantone
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/italy/capri/" class="child">
                    Capri
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/italy/rome/" class="child">
                    Roma
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/italy/fermo/" class="child">
                    Fermo
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/italy/milano/" class="child">
                    Milan
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/italy/como/" class="child">
                    Como
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/england/cheltenham/" class="child">
                    Cheltenham
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/england/london/" class="child">
                    London
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/spain/palma_majorca/" class="child">
                    Palma de Mallorca
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/denmark/copenhaguen/" class="child">
                    Copenhaguen
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/brasil/sao_paulo/" class="child">
                    Sao Paulo
                    </a>
                </li>
                <li class="nav-opened nested-gallery hidden" role="presentation">
                    <a href="../../galleries/brasil/rio_de_janeiro/" class="child">
                    Rio de Janeiro
                    </a>
                </li>
            <li class="nav-opened" role="presentation">
                <a href="../../stories/who-am-i/">About me</a>
            </li>
    
    
    </ul>
</div>
<span class="nav-cover"></span>

<div class="site-wrapper">
    <header class="main-header post-head no-cover"><nav class="main-nav overlay clearfix"><a class="blog-logo" href="https://woile.github.io/"><img src="https://s.gravatar.com/avatar/7ff595c207c9b935811a691d2f3d2551?s=150" alt="Blog Logo"></a>
            <a class="menu-button" href="#"><span class="burger">☰</span><span class="word">Menu</span></a>
        </nav></header><main id="content" class="content" role="main"><article class="post post"><header class="post-header"><h1 class="post-title">Decrypt filesystem</h1>
        <section class="post-meta"> by
            Woile
            on
                <a href="../../categories/encrypt/">#encrypt</a>,
                <a href="../../categories/linux/">#linux</a>,
                <a href="../../categories/ubuntu/">#ubuntu</a>,
            <time class="post-date" datetime="2018-07-13T18:14:43-03:00">
                2018-07-13 18:14
            </time></section></header><section class="post-content"><div>
<h2>Decrypt ubuntu filesystem</h2>
<p>If you have encrypted your drive with one of the latest ubuntu version, this is how to decrypt using the command line.</p>
<p>A few weeks ago I had a problem with my ubuntu (as usual) and I had no clue how to decrypt my file, which it's encrypted by my company's policy.</p>
<p>Optional: run a <strong>live ubuntu</strong> if your system is not working properly</p>
<h3>First option</h3>
<p>Open a terminal and type <code>sudo ecryptfs-unwrap-passphrase</code>. Most of the time this should do it.</p>
<!-- TEASER_END -->

<h3>Second option</h3>
<p>Let's start opening a terminal and typing:</p>
<p><code>lsblk</code></p>
<p>Look for your encrypted partition, it might look something similar to:</p>
<pre class="code literal-block"><span></span>nvme0n1        <span class="m">259</span>:0    <span class="m">0</span> <span class="m">953</span>.9G  <span class="m">0</span> disk
├─nvme0n1p1    <span class="m">259</span>:1    <span class="m">0</span>   512M  <span class="m">0</span> part
├─nvme0n1p2    <span class="m">259</span>:2    <span class="m">0</span>   488M  <span class="m">0</span> part
└─nvme0n1p3    <span class="m">259</span>:3    <span class="m">0</span> <span class="m">952</span>.9G  <span class="m">0</span> part
</pre>


<p>Then to decrypt:</p>
<pre class="code literal-block"><span></span>cryptsetup luksOpen &lt;path_to_encrypted&gt; &lt;name_for_unencrypted_partition&gt;
<span class="c1"># This will prompt a password</span>
</pre>


<p>For example:</p>
<pre class="code literal-block"><span></span>cryptsetup luksOpen /dev/mapper/nvme0n1p3 woile
</pre>


<p>Once decrypted type again:</p>
<p><code>lsblk</code></p>
<p>And you'll see your partition unencrypted, something like this:</p>
<pre class="code literal-block"><span></span>nvme0n1        <span class="m">259</span>:0    <span class="m">0</span> <span class="m">953</span>.9G  <span class="m">0</span> disk
├─nvme0n1p1    <span class="m">259</span>:1    <span class="m">0</span>   512M  <span class="m">0</span> part
├─nvme0n1p2    <span class="m">259</span>:2    <span class="m">0</span>   488M  <span class="m">0</span> part
└─nvme0n1p3    <span class="m">259</span>:3    <span class="m">0</span> <span class="m">952</span>.9G  <span class="m">0</span> part
  └─woile <span class="m">253</span>:0    <span class="m">0</span> <span class="m">952</span>.9G  <span class="m">0</span> crypt
</pre>


<p>Now it's time to mount the new partition</p>
<ol>
<li>create a directory</li>
<li>mount unencrypted partition</li>
</ol>
<pre class="code literal-block"><span></span>mkdir /media/tmp_mount_location  <span class="c1"># (1)</span>
mount /dev/mapper/woile /media/tmp_mount_location  <span class="c1"># (2)</span>
</pre>


<p>That's it, if you go to /media/tmp_mount_location, your files should be there.</p>
<p>This is mostly a mental note for me.</p>
<p>Cheers!</p>
</div>
    </section><footer class="post-footer"><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="woile",
            disqus_url="https://woile.github.io/posts/decrypt-filesystem/",
        disqus_title="Decrypt filesystem",
        disqus_identifier="cache/posts/decrypt-filesystem.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></footer></article><script>var disqus_shortname="woile";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script></main><footer class="site-footer clearfix"><section class="poweredby">Contents © 2019         <a href="mailto:santiwilly@gmail.com">Woile</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </section></footer>
</div>

    <script type="text/javascript" src="../../assets/js/jquery.js"></script><script type="text/javascript" src="../../assets/js/jquery.fitvids.js"></script><script type="text/javascript" src="../../assets/js/index.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-77945905-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
